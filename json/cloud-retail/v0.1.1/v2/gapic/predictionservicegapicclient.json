{"id":"retail\/v2\/gapic\/predictionservicegapicclient","type":"","title":"Google\\Cloud\\Retail\\V2\\Gapic\\PredictionServiceGapicClient","name":"PredictionServiceGapicClient","description":"<p>Service Description: Service for making recommendation prediction.<\/p>\n<p>This class provides the ability to make remote calls to the backing service through method\ncalls that map to API methods. Sample code to get started:<\/p>\n<pre><code>$predictionServiceClient = new PredictionServiceClient();\ntry {\n    $placement = '';\n    $userEvent = new UserEvent();\n    $response = $predictionServiceClient-&gt;predict($placement, $userEvent);\n} finally {\n    $predictionServiceClient-&gt;close();\n}<\/code><\/pre>","examples":[],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"Retail\/src\/V2\/Gapic\/PredictionServiceGapicClient.php#L165","description":"<p>Constructor.<\/p>","examples":[],"resources":[],"params":[{"name":"options","description":"<p>Optional. Options for configuring the service API wrapper.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"options.serviceAddress\n","description":"<p><strong>Deprecated<\/strong>. This option will be removed in a future major release. Please utilize the <code>$apiEndpoint<\/code> option instead.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.apiEndpoint\n","description":"<p>The address of the API remote host. May optionally include the port, formatted as &quot;<uri>:<port>&quot;. Default 'retail.googleapis.com:443'.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.credentials\n","description":"<p>The credentials to be used by the client to authorize API calls. This option accepts either a path to a credentials file, or a decoded credentials file as a PHP array. <em>Advanced usage<\/em>: In addition, this option can also accept a pre-constructed <a href=\"https:\/\/github.com\/googleapis\/google-auth-library-php\/tree\/v1.15.0\/src\/FetchAuthTokenInterface.php\" target=\"_blank\">Google\\Auth\\FetchAuthTokenInterface<\/a> object or <a href=\"https:\/\/googleapis.github.io\/gax-php\/v1.7.1\/Google\/ApiCore\/CredentialsWrapper.html\" target=\"_blank\">Google\\ApiCore\\CredentialsWrapper<\/a> object. Note that when one of these objects are provided, any settings in $credentialsConfig will be ignored.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>","<a href=\"https:\/\/github.com\/googleapis\/google-auth-library-php\/tree\/v1.15.0\/src\/FetchAuthTokenInterface.php\" target=\"_blank\">Google\\Auth\\FetchAuthTokenInterface<\/a>","<a href=\"https:\/\/googleapis.github.io\/gax-php\/v1.7.1\/Google\/ApiCore\/CredentialsWrapper.html\" target=\"_blank\">Google\\ApiCore\\CredentialsWrapper<\/a>"],"optional":null,"nullable":null},{"name":"options.credentialsConfig\n","description":"<p>Options used to configure credentials, including auth token caching, for the client. For a full list of supporting configuration options, see <a href=\"https:\/\/googleapis.github.io\/gax-php\/v1.7.1\/Google\/ApiCore\/CredentialsWrapper.html\" target=\"_blank\">Google\\ApiCore\\CredentialsWrapper::build()<\/a>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.disableRetries\n","description":"<p>Determines whether or not retries defined by the client configuration should be disabled. Defaults to <code>false<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.clientConfig\n","description":"<p>Client method configuration, including retry settings. This option can be either a path to a JSON file, or a PHP array containing the decoded JSON data. By default this settings points to the default client config file, which is provided in the resources folder.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.transport\n","description":"<p>The transport used for executing network requests. May be either the string <code>rest<\/code> or <code>grpc<\/code>. Defaults to <code>grpc<\/code> if gRPC support is detected on the system. <em>Advanced usage<\/em>: Additionally, it is possible to pass in an already instantiated <a href=\"https:\/\/googleapis.github.io\/gax-php\/v1.7.1\/Google\/ApiCore\/Transport\/TransportInterface.html\" target=\"_blank\">Google\\ApiCore\\Transport\\TransportInterface<\/a> object. Note that when this object is provided, any settings in $transportConfig, and any <code>$apiEndpoint<\/code> setting, will be ignored.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"https:\/\/googleapis.github.io\/gax-php\/v1.7.1\/Google\/ApiCore\/Transport\/TransportInterface.html\" target=\"_blank\">Google\\ApiCore\\Transport\\TransportInterface<\/a>"],"optional":null,"nullable":null},{"name":"options.transportConfig\n","description":"<p>Configuration options that will be used to construct the transport. Options for each supported transport type should be passed in a key for that transport. For example: $transportConfig = [ 'grpc' =&gt; [...], 'rest' =&gt; [...] ]; See the <a href=\"https:\/\/googleapis.github.io\/gax-php\/v1.7.1\/Google\/ApiCore\/Transport\/GrpcTransport.html\" target=\"_blank\">Google\\ApiCore\\Transport\\GrpcTransport::build()<\/a> and <a href=\"https:\/\/googleapis.github.io\/gax-php\/v1.7.1\/Google\/ApiCore\/Transport\/RestTransport.html\" target=\"_blank\">Google\\ApiCore\\Transport\\RestTransport::build()<\/a> methods for the supported options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\ApiCore\\ValidationException","description":""}],"returns":[]},{"id":"predict","type":"instance","name":"predict","source":"Retail\/src\/V2\/Gapic\/PredictionServiceGapicClient.php#L296","description":"<p>Makes a recommendation prediction.<\/p>\n<p>Sample code:<\/p>\n<pre><code>$predictionServiceClient = new PredictionServiceClient();\ntry {\n    $placement = '';\n    $userEvent = new UserEvent();\n    $response = $predictionServiceClient-&gt;predict($placement, $userEvent);\n} finally {\n    $predictionServiceClient-&gt;close();\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"placement","description":"<p>Required. Full resource name of the format:\n{name=projects\/&#42;\/locations\/global\/catalogs\/default_catalog\/placements\/*}\nThe id of the recommendation engine placement. This id is used to identify\nthe set of models that will be used to make the prediction.<\/p>\n<p>We currently support three placements with the following IDs by default:<\/p>\n<ul>\n<li>\n<p><code>shopping_cart<\/code>: Predicts products frequently bought together with one or\nmore  products in the same shopping session. Commonly displayed after\n<code>add-to-cart<\/code> events, on product detail pages, or on the shopping cart\npage.<\/p>\n<\/li>\n<li>\n<p><code>home_page<\/code>: Predicts the next product that a user will most likely\nengage with or purchase based on the shopping or viewing history of the\nspecified <code>userId<\/code> or <code>visitorId<\/code>. For example - Recommendations for you.<\/p>\n<\/li>\n<li>\n<p><code>product_detail<\/code>: Predicts the next product that a user will most likely\nengage with or purchase. The prediction is based on the shopping or\nviewing history of the specified <code>userId<\/code> or <code>visitorId<\/code> and its\nrelevance to a specified <code>CatalogItem<\/code>. Typically used on product detail\npages. For example - More products like this.<\/p>\n<\/li>\n<li>\n<p><code>recently_viewed_default<\/code>: Returns up to 75 products recently viewed by\nthe specified <code>userId<\/code> or <code>visitorId<\/code>, most recent ones first. Returns\nnothing if neither of them has viewed any products yet. For example -\nRecently viewed.<\/p>\n<\/li>\n<\/ul>\n<p>The full list of available placements can be seen at\n<a href=\"https:\/\/console.cloud.google.com\/recommendation\/catalogs\/default_catalog\/placements\">https:\/\/console.cloud.google.com\/recommendation\/catalogs\/default_catalog\/placements<\/a><\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"userEvent","description":"<p>Required. Context about the user, what they are looking at and what action\nthey took to trigger the predict request. Note that this user event detail\nwon't be ingested to userEvent logs. Thus, a separate userEvent write\nrequest is required for event logging.<\/p>","types":["<a data-custom-type=\"cloud-retail\/v0.1.1\/retail\/v2\/userevent\">Google\\Cloud\\Retail\\V2\\UserEvent<\/a>"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"optionalArgs.pageSize\n","description":"<p>Maximum number of results to return per page. Set this property to the number of prediction results needed. If zero, the service will choose a reasonable default. The maximum allowed value is 100. Values above 100 will be coerced to 100.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.pageToken\n","description":"<p>The previous PredictResponse.next_page_token.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.filter\n","description":"<p>Filter for restricting prediction results with a length limit of 5,000 characters. Accepts values for tags and the <code>filterOutOfStockItems<\/code> flag. <em> Tag expressions. Restricts predictions to products that match all of the specified tags. Boolean operators <code>OR<\/code> and <code>NOT<\/code> are supported if the expression is enclosed in parentheses, and must be separated from the tag values by a space. <code>-\"tagA\"<\/code> is also supported and is equivalent to <code>NOT \"tagA\"<\/code>. Tag values must be double quoted UTF-8 encoded strings with a size limit of 1,000 characters. <\/em> filterOutOfStockItems. Restricts predictions to products that do not have a stockState value of OUT_OF_STOCK. Examples: <em> tag=(&quot;Red&quot; OR &quot;Blue&quot;) tag=&quot;New-Arrival&quot; tag=(NOT &quot;promotional&quot;) <\/em> filterOutOfStockItems tag=(-&quot;promotional&quot;) * filterOutOfStockItems If your filter blocks all prediction results, nothing will be returned. If you want generic (unfiltered) popular products to be returned instead, set <code>strictFiltering<\/code> to false in <code>PredictRequest.params<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.validateOnly\n","description":"<p>Use validate only mode for this prediction query. If set to true, a dummy model will be used that returns arbitrary products. Note that the validate only mode should only be used for testing the API, or if the model is not ready.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.params\n","description":"<p>Additional domain specific parameters for the predictions. Allowed values: <em> <code>returnProduct<\/code>: Boolean. If set to true, the associated product object will be returned in the <code>results.metadata<\/code> field in the prediction response. <\/em> <code>returnScore<\/code>: Boolean. If set to true, the prediction 'score' corresponding to each returned product will be set in the <code>results.metadata<\/code> field in the prediction response. The given 'score' indicates the probability of an product being clicked\/purchased given the user's context and history. * <code>strictFiltering<\/code>: Boolean. True by default. If set to false, the service will return generic (unfiltered) popular products instead of empty if your filter blocks all prediction results.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.labels\n","description":"<p>The labels for the predict request. <em> Label keys can contain lowercase letters, digits and hyphens, must start with a letter, and must end with a letter or digit. <\/em> Non-zero label values can contain lowercase letters, digits and hyphens, must start with a letter, and must end with a letter or digit. * No more than 64 labels can be associated with a given request. See <a href=\"https:\/\/goo.gl\/xmQnxf\">https:\/\/goo.gl\/xmQnxf<\/a> for more information on and examples of labels.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. Can be a <a href=\"https:\/\/googleapis.github.io\/gax-php\/v1.7.1\/Google\/ApiCore\/RetrySettings.html\" target=\"_blank\">Google\\ApiCore\\RetrySettings<\/a> object, or an associative array of retry settings parameters. See the documentation on <a href=\"https:\/\/googleapis.github.io\/gax-php\/v1.7.1\/Google\/ApiCore\/RetrySettings.html\" target=\"_blank\">Google\\ApiCore\\RetrySettings<\/a> for example usage.<\/p>","types":["<a href=\"https:\/\/googleapis.github.io\/gax-php\/v1.7.1\/Google\/ApiCore\/RetrySettings.html\" target=\"_blank\">Google\\ApiCore\\RetrySettings<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\ApiCore\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a data-custom-type=\"cloud-retail\/v0.1.1\/retail\/v2\/predictresponse\">Google\\Cloud\\Retail\\V2\\PredictResponse<\/a>"],"description":""}]}]}